[{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\App.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\components\\layout\\BottomNav.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'Icon' is defined but never used.","line":4,"column":30,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":34,"suggestions":[{"messageId":"removeVar","data":{"varName":"Icon"},"fix":{"range":[140,152],"text":""},"desc":"Remove unused variable 'Icon'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { BookOpen, Search, Calculator, Settings } from 'lucide-react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst NavItem = ({ to, icon: Icon, label }) => (\r\n    <NavLink\r\n        to={to}\r\n        className={({ isActive }) =>\r\n            `relative flex flex-col items-center justify-center w-full h-full space-y-1 transition-colors ${isActive ? 'text-deep-navy' : 'text-text-muted hover:text-text-secondary'\r\n            }`\r\n        }\r\n    >\r\n        {({ isActive }) => (\r\n            <>\r\n                {isActive && (\r\n                    <span className=\"absolute top-2 right-1/2 translate-x-3 w-1.5 h-1.5 bg-emerald-green rounded-full\" />\r\n                )}\r\n                <Icon size={24} />\r\n                <span className=\"text-xs font-medium\">{label}</span>\r\n            </>\r\n        )}\r\n    </NavLink>\r\n);\r\n\r\nexport default function BottomNav() {\r\n    return (\r\n        <nav className=\"fixed bottom-0 left-0 right-0 h-16 bg-surface border-t border-slate-200 z-50 pb-safe\">\r\n            <div className=\"flex justify-around items-center h-full max-w-md mx-auto\">\r\n                <NavItem to=\"/\" icon={BookOpen} label=\"Learn\" />\r\n                <NavItem to=\"/search\" icon={Search} label=\"Search\" />\r\n                <NavItem to=\"/calculators\" icon={Calculator} label=\"Tools\" />\r\n                <NavItem to=\"/settings\" icon={Settings} label=\"Settings\" />\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\components\\layout\\Header.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\components\\layout\\Layout.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\components\\lessons\\HorizontalLessonCard.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'isInProgress' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":18,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":18,"endColumn":23,"suggestions":[{"messageId":"removeVar","data":{"varName":"isInProgress"},"fix":{"range":[590,647],"text":""},"desc":"Remove unused variable 'isInProgress'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { CheckCircle, PlayCircle, Lock, Trophy } from 'lucide-react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n/**\r\n * HorizontalLessonCard Component\r\n * \r\n * A clean, horizontal card designed for the Learning Path catalogue.\r\n * Features:\r\n * - Large touch area (thumb-friendly)\r\n * - Status indicators (Locked, In Progress, Completed)\r\n * - XP Reward badge\r\n * - 1-sentence description\r\n */\r\nexport default function HorizontalLessonCard({ lesson, status }) {\r\n    const isLocked = status === 'locked';\r\n    const isCompleted = status === 'completed';\r\n    const isInProgress = status === 'active' && !isCompleted;\r\n\r\n    return (\r\n        <div className={`group relative bg-surface rounded-2xl p-4 transition-all duration-300 border \r\n                        ${isLocked\r\n                ? 'opacity-60 border-slate-100'\r\n                : 'border-slate-200 hover:border-primary/30 hover:shadow-md active:scale-[0.98]'\r\n            }`}>\r\n\r\n            <div className=\"flex items-center gap-4\">\r\n                {/* Status Icon */}\r\n                <div className={`flex-shrink-0 w-12 h-12 rounded-2xl flex items-center justify-center transition-colors\r\n                                ${isCompleted\r\n                        ? 'bg-emerald-green/10 text-emerald-green'\r\n                        : isLocked\r\n                            ? 'bg-slate-100 text-text-muted'\r\n                            : 'bg-primary/10 text-primary'\r\n                    }`}>\r\n                    {isCompleted ? <CheckCircle size={24} strokeWidth={2.5} /> :\r\n                        isLocked ? <Lock size={20} /> : <PlayCircle size={24} />}\r\n                </div>\r\n\r\n                {/* Content */}\r\n                <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center justify-between gap-2 mb-0.5\">\r\n                        <h3 className={`font-bold text-base truncate ${isLocked ? 'text-text-muted' : 'text-text-primary'}`}>\r\n                            {lesson.title}\r\n                        </h3>\r\n                        {/* XP Reward Badge */}\r\n                        <div className=\"flex items-center gap-1 bg-slate-50 px-2 py-0.5 rounded-full border border-slate-100 flex-shrink-0\">\r\n                            <Trophy size={11} className=\"text-secondary\" />\r\n                            <span className=\"text-[10px] font-bold text-text-secondary\">{lesson.xpReward} XP</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <p className={`text-sm line-clamp-1 ${isLocked ? 'text-text-muted/60' : 'text-text-secondary'}`}>\r\n                        {lesson.description}\r\n                    </p>\r\n                </div>\r\n\r\n                {/* Progress Visual Cues */}\r\n                {isCompleted && (\r\n                    <div className=\"flex-shrink-0 ml-2 animate-in fade-in zoom-in duration-300\">\r\n                        <div className=\"w-6 h-6 bg-emerald-green rounded-full flex items-center justify-center\">\r\n                            <CheckCircle size={14} className=\"text-white\" strokeWidth={3} />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Tap Target / Link */}\r\n            {!isLocked && (\r\n                <Link\r\n                    to={`/lesson/${lesson.id}`}\r\n                    className=\"absolute inset-0 z-10\"\r\n                    aria-label={`Start lesson: ${lesson.title}`}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\components\\lessons\\LessonCard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\components\\lessons\\LevelAccordion.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'motion' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":2,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"motion"},"fix":{"range":[51,58],"text":""},"desc":"Remove unused variable 'motion'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { ChevronDown, ChevronUp, CheckCircle2 } from 'lucide-react';\r\n\r\n/**\r\n * LevelAccordion Component\r\n * \r\n * An interactive accordion for curriculum levels.\r\n * Features:\r\n * - Progress bar in the header\r\n * - Smooth framer-motion animations\r\n * - Summary of lessons completed\r\n */\r\nexport default function LevelAccordion({ level, lessons, completedCount, children, defaultOpen = false }) {\r\n    const [isOpen, setIsOpen] = useState(defaultOpen);\r\n\r\n    const totalLessons = lessons.length;\r\n    const progressPercentage = (completedCount / totalLessons) * 100;\r\n    const isLevelComplete = completedCount === totalLessons && totalLessons > 0;\r\n\r\n    return (\r\n        <div className=\"bg-surface rounded-2xl border border-slate-200 overflow-hidden shadow-sm transition-all duration-300\">\r\n            {/* Header / Trigger */}\r\n            <button\r\n                onClick={() => setIsOpen(!isOpen)}\r\n                className=\"w-full px-5 py-6 text-left flex flex-col gap-3 hover:bg-slate-50 transition-colors focus:outline-none\"\r\n            >\r\n                <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className={`p-2 rounded-xl flex items-center justify-center\r\n                                        ${isLevelComplete ? 'bg-emerald-green text-white' : 'bg-slate-100 text-text-secondary'}`}>\r\n                            {isLevelComplete ? <CheckCircle2 size={18} strokeWidth={2.5} /> : <span className=\"text-xs font-bold font-sans\">0{level.id}</span>}\r\n                        </div>\r\n                        <div>\r\n                            <h2 className={`text-sm font-black uppercase tracking-widest leading-none ${isLevelComplete ? 'text-emerald-green' : 'text-text-primary'}`}>\r\n                                {level.title.split(': ')[0]}\r\n                            </h2>\r\n                            <p className=\"text-xs font-medium text-text-muted mt-1\">\r\n                                {level.title.split(': ')[1] || level.title}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    {isOpen ? <ChevronUp size={20} className=\"text-text-muted\" /> : <ChevronDown size={20} className=\"text-text-muted\" />}\r\n                </div>\r\n\r\n                {/* Progress Bar Area */}\r\n                <div className=\"flex flex-col gap-1.5 px-0.5\">\r\n                    <div className=\"flex items-center justify-between text-[10px] font-bold tracking-wider text-text-muted uppercase\">\r\n                        <span>Progress</span>\r\n                        <span className={isLevelComplete ? 'text-emerald-green' : ''}>\r\n                            {completedCount}/{totalLessons} Lessons Done\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"h-2 w-full bg-slate-100 rounded-full overflow-hidden\">\r\n                        <motion.div\r\n                            initial={{ width: 0 }}\r\n                            animate={{ width: `${progressPercentage}%` }}\r\n                            transition={{ duration: 1, ease: \"easeOut\" }}\r\n                            className={`h-full rounded-full ${isLevelComplete ? 'bg-emerald-green' : 'bg-primary'}`}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </button>\r\n\r\n            {/* Expandable Content */}\r\n            <AnimatePresence initial={false}>\r\n                {isOpen && (\r\n                    <motion.div\r\n                        key=\"content\"\r\n                        initial={{ height: 0, opacity: 0 }}\r\n                        animate={{ height: \"auto\", opacity: 1 }}\r\n                        exit={{ height: 0, opacity: 0 }}\r\n                        transition={{ duration: 0.3, ease: \"easeInOut\" }}\r\n                    >\r\n                        <div className=\"px-5 pb-6 space-y-3\">\r\n                            {children}\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\components\\search\\GlobalSearch.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\components\\tools\\RecommendedTools.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\context\\ProgressContext.jsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n  35 |                 const yesterdayStr = yesterday.toISOString().split('T')[0];\n  36 |\n> 37 |                 setState(prev => {\n     |                 ^^^^^^^^ Avoid calling setState() directly within an effect\n  38 |                     let newStreak = prev.streak;\n  39 |                     if (lastDate === yesterdayStr) {\n  40 |                         newStreak += 1;","line":37,"column":17,"nodeType":null,"endLine":37,"endColumn":25},{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":93,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":93,"endColumn":25}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createContext, useContext, useEffect, useState } from 'react';\r\n\r\nconst ProgressContext = createContext(null);\r\n\r\nconst STORAGE_KEY = 'financial_educator_progress';\r\n\r\nconst INITIAL_STATE = {\r\n    xp: 0,\r\n    completedLessons: [], // Array of lesson IDs\r\n    quizScores: {}, // Map of lessonId -> score (0-100)\r\n    streak: 1,\r\n    lastLogin: new Date().toISOString().split('T')[0],\r\n};\r\n\r\nexport function ProgressProvider({ children }) {\r\n    const [state, setState] = useState(() => {\r\n        try {\r\n            const stored = localStorage.getItem(STORAGE_KEY);\r\n            return stored ? JSON.parse(stored) : INITIAL_STATE;\r\n        } catch (e) {\r\n            console.error(\"Failed to load progress\", e);\r\n            return INITIAL_STATE;\r\n        }\r\n    });\r\n\r\n    // Persistence & Streak Logic Effect\r\n    useEffect(() => {\r\n        try {\r\n            const today = new Date().toISOString().split('T')[0];\r\n            const lastDate = state.lastLogin;\r\n\r\n            if (lastDate !== today) {\r\n                const yesterday = new Date();\r\n                yesterday.setDate(yesterday.getDate() - 1);\r\n                const yesterdayStr = yesterday.toISOString().split('T')[0];\r\n\r\n                setState(prev => {\r\n                    let newStreak = prev.streak;\r\n                    if (lastDate === yesterdayStr) {\r\n                        newStreak += 1;\r\n                    } else if (lastDate < yesterdayStr) {\r\n                        newStreak = 1; // Reset if gap > 1 day\r\n                    }\r\n                    // Else: if lastDate > today (clock skew), keep streak as is or reset? Resetting to 1 is safer.\r\n\r\n                    return {\r\n                        ...prev,\r\n                        streak: newStreak || 1,\r\n                        lastLogin: today\r\n                    };\r\n                });\r\n            }\r\n\r\n            localStorage.setItem(STORAGE_KEY, JSON.stringify(state));\r\n        } catch (e) {\r\n            console.error(\"Failed to sync progress\", e);\r\n        }\r\n    }, [state]);\r\n\r\n    const completeLesson = (lessonId, score, xpAmount) => {\r\n        setState(prev => {\r\n            const isFirstTime = !prev.completedLessons.includes(lessonId);\r\n\r\n            // Update scores if new score is higher\r\n            const currentScore = prev.quizScores[lessonId] || 0;\r\n            const newScores = { ...prev.quizScores };\r\n            if (score > currentScore) {\r\n                newScores[lessonId] = score;\r\n            }\r\n\r\n            return {\r\n                ...prev,\r\n                xp: isFirstTime ? prev.xp + (xpAmount || 0) : prev.xp,\r\n                completedLessons: isFirstTime\r\n                    ? [...prev.completedLessons, lessonId]\r\n                    : prev.completedLessons,\r\n                quizScores: newScores\r\n            };\r\n        });\r\n    };\r\n\r\n    const resetProgress = () => {\r\n        setState(INITIAL_STATE);\r\n    };\r\n\r\n    return (\r\n        <ProgressContext.Provider value={{ state, completeLesson, resetProgress }}>\r\n            {children}\r\n        </ProgressContext.Provider>\r\n    );\r\n}\r\n\r\nexport const useProgress = () => {\r\n    const context = useContext(ProgressContext);\r\n    if (!context) {\r\n        throw new Error('useProgress must be used within a ProgressProvider');\r\n    }\r\n    return context;\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\data\\lessons\\index.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\hooks\\useInstallPrompt.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\hooks\\useLessons.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\hooks\\useSearch.js","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n  55 |         // Save only if query is at least 4 characters and has results\n  56 |         if (trimmedQuery.length >= 4 && results.length > 0) {\n> 57 |             setRecentSearches(prev => {\n     |             ^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  58 |                 const filtered = prev.filter(t => t.toLowerCase() !== trimmedQuery.toLowerCase());\n  59 |                 const updated = [trimmedQuery, ...filtered].slice(0, 5);\n  60 |                 localStorage.setItem('recentSearches', JSON.stringify(updated));","line":57,"column":13,"nodeType":null,"endLine":57,"endColumn":30}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useMemo, useEffect } from 'react';\r\nimport Fuse from 'fuse.js';\r\n\r\n/**\r\n * Custom hook for fuzzy search across lesson objects.\r\n * @param {Array} lessons - Array of lesson objects. \r\n * @returns {Object} Search state and handlers.\r\n */\r\nexport function useSearch(lessons) {\r\n    const [query, setQuery] = useState('');\r\n    const [debouncedQuery, setDebouncedQuery] = useState('');\r\n    const [recentSearches, setRecentSearches] = useState(() => {\r\n        try {\r\n            const saved = localStorage.getItem('recentSearches');\r\n            return saved ? JSON.parse(saved) : [];\r\n        } catch (e) {\r\n            console.error('Failed to load recent searches', e);\r\n            return [];\r\n        }\r\n    });\r\n\r\n    // Debounce the search input by 150ms\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            setDebouncedQuery(query);\r\n        }, 150);\r\n        return () => clearTimeout(timer);\r\n    }, [query]);\r\n\r\n    // Memoize the Fuse instance for performance\r\n    const fuse = useMemo(() => {\r\n        const options = {\r\n            keys: [\r\n                { name: 'title', weight: 0.7 },\r\n                { name: 'description', weight: 0.5 },\r\n                { name: 'content.text', weight: 0.3 }\r\n            ],\r\n            threshold: 0.3,\r\n            ignoreLocation: true, // Search anywhere in the text\r\n            includeMatches: true\r\n        };\r\n        return new Fuse(lessons, options);\r\n    }, [lessons]);\r\n\r\n    // Compute results based on debounced query\r\n    const results = useMemo(() => {\r\n        const trimmedQuery = debouncedQuery.trim();\r\n        if (!trimmedQuery) return [];\r\n        return fuse.search(trimmedQuery).map(r => r.item);\r\n    }, [debouncedQuery, fuse]);\r\n\r\n    // Persist successful search terms (last 5)\r\n    useEffect(() => {\r\n        const trimmedQuery = debouncedQuery.trim();\r\n        // Save only if query is at least 4 characters and has results\r\n        if (trimmedQuery.length >= 4 && results.length > 0) {\r\n            setRecentSearches(prev => {\r\n                const filtered = prev.filter(t => t.toLowerCase() !== trimmedQuery.toLowerCase());\r\n                const updated = [trimmedQuery, ...filtered].slice(0, 5);\r\n                localStorage.setItem('recentSearches', JSON.stringify(updated));\r\n                return updated;\r\n            });\r\n        }\r\n    }, [debouncedQuery, results.length]);\r\n\r\n    const clearRecentSearches = () => {\r\n        setRecentSearches([]);\r\n        localStorage.removeItem('recentSearches');\r\n    };\r\n\r\n    return {\r\n        query,\r\n        setQuery,\r\n        results,\r\n        recentSearches,\r\n        isSearching: !!debouncedQuery.trim(),\r\n        clearRecentSearches\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\lib\\firebase.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\main.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\pages\\Calculators.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\pages\\LearningPath.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\pages\\LessonView.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'state' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":10,"column":29,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":34,"suggestions":[{"messageId":"removeVar","data":{"varName":"state"},"fix":{"range":[424,431],"text":""},"desc":"Remove unused variable 'state'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useMemo } from 'react';\r\nimport { useParams, useNavigate, Navigate } from 'react-router-dom';\r\nimport { ChevronRight, Check, X, ArrowLeft } from 'lucide-react';\r\nimport { useProgress } from '../context/ProgressContext';\r\nimport lessons from '../data/lessons';\r\n\r\nexport default function LessonView() {\r\n    const { lessonId } = useParams();\r\n    const navigate = useNavigate();\r\n    const { completeLesson, state } = useProgress();\r\n\r\n    const lesson = useMemo(() => lessons.find(l => l.id === lessonId), [lessonId]);\r\n\r\n    // Combined slides: Content first, then Quiz questions\r\n    const slides = useMemo(() => {\r\n        if (!lesson) return [];\r\n        const contentSlides = lesson.content.map(c => ({ type: 'content', data: c }));\r\n        const quizSlides = lesson.quiz.map(q => ({ type: 'quiz', data: q }));\r\n        return [...contentSlides, ...quizSlides];\r\n    }, [lesson]);\r\n\r\n    const [currentSlideIndex, setCurrentSlideIndex] = useState(0);\r\n    const [selectedOption, setSelectedOption] = useState(null);\r\n    const [isAnswerChecked, setIsAnswerChecked] = useState(false);\r\n    const [score, setScore] = useState(0);\r\n    const [shouldShake, setShouldShake] = useState(false);\r\n\r\n    if (!lesson) return <Navigate to=\"/\" />;\r\n\r\n    const currentSlide = slides[currentSlideIndex];\r\n    const isLastSlide = currentSlideIndex === slides.length - 1;\r\n    const progress = ((currentSlideIndex) / slides.length) * 100;\r\n\r\n    const handleNext = () => {\r\n        if (isLastSlide) {\r\n            // Calculate final score percentage\r\n            const totalQuestions = lesson.quiz.length;\r\n            const finalScore = totalQuestions > 0 ? Math.round((score / totalQuestions) * 100) : 100;\r\n\r\n            completeLesson(lesson.id, finalScore, lesson.xpReward);\r\n            navigate('/');\r\n        } else {\r\n            setCurrentSlideIndex(prev => prev + 1);\r\n            setSelectedOption(null);\r\n            setIsAnswerChecked(false);\r\n            setShouldShake(false);\r\n        }\r\n    };\r\n\r\n    const checkAnswer = () => {\r\n        if (currentSlide.type === 'quiz') {\r\n            setIsAnswerChecked(true);\r\n            if (selectedOption === currentSlide.data.correctAnswerIndex) {\r\n                setScore(prev => prev + 1);\r\n            } else {\r\n                // Trigger shake animation for incorrect answer\r\n                setShouldShake(true);\r\n                setTimeout(() => setShouldShake(false), 500);\r\n            }\r\n        } else {\r\n            handleNext();\r\n        }\r\n    };\r\n\r\n    // Render Content Slide\r\n    const renderContent = (content) => (\r\n        <div className=\"flex flex-col h-full justify-center space-y-6 animate-in fade-in slide-in-from-right-4 duration-300\">\r\n            <h2 className=\"text-3xl font-bold text-primary\">{content.title}</h2>\r\n            <p className=\"text-lg text-text-primary leading-relaxed\">{content.text}</p>\r\n        </div>\r\n    );\r\n\r\n    // Render Quiz Slide\r\n    const renderQuiz = (question) => {\r\n        const isCorrect = selectedOption === question.correctAnswerIndex;\r\n\r\n        return (\r\n            <div className=\"flex flex-col h-full animate-in fade-in slide-in-from-right-4 duration-300\">\r\n                <h2 className=\"text-xl font-bold text-text-primary mb-6\">{question.question}</h2>\r\n\r\n                <div className=\"space-y-3\">\r\n                    {question.options.map((option, idx) => {\r\n                        let optionClass = \"w-full p-4 rounded-xl border-2 text-left font-medium transition-all \";\r\n\r\n                        if (isAnswerChecked) {\r\n                            if (idx === question.correctAnswerIndex) {\r\n                                optionClass += \"bg-green-100 border-green-500 text-green-700\";\r\n                            } else if (idx === selectedOption) {\r\n                                optionClass += `bg-red-100 border-red-500 text-red-700 ${shouldShake ? 'animate-shake' : ''}`;\r\n                            } else {\r\n                                optionClass += \"bg-surface border-slate-200 text-text-muted opacity-50\";\r\n                            }\r\n                        } else {\r\n                            if (selectedOption === idx) {\r\n                                optionClass += \"bg-blue-50 border-blue-500 text-blue-700 shadow-sm\";\r\n                            } else {\r\n                                optionClass += \"bg-surface border-slate-200 hover:border-blue-300 hover:bg-slate-50\";\r\n                            }\r\n                        }\r\n\r\n                        return (\r\n                            <button\r\n                                key={idx}\r\n                                onClick={() => !isAnswerChecked && setSelectedOption(idx)}\r\n                                disabled={isAnswerChecked}\r\n                                className={optionClass}\r\n                            >\r\n                                {option}\r\n                            </button>\r\n                        );\r\n                    })}\r\n                </div>\r\n\r\n                {isAnswerChecked && (\r\n                    <div className={`mt-6 p-4 rounded-lg flex items-start space-x-3 ${isCorrect ? 'bg-green-50 text-green-800' : 'bg-red-50 text-red-800'}`}>\r\n                        <div className=\"mt-1\">\r\n                            {isCorrect ? <Check size={20} /> : <X size={20} />}\r\n                        </div>\r\n                        <div>\r\n                            <p className=\"font-bold\">{isCorrect ? 'Correct!' : 'Incorrect'}</p>\r\n                            <p className=\"text-sm mt-1 opacity-90\">{question.explanation}</p>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-background flex flex-col max-w-md mx-auto relative overflow-hidden\">\r\n            {/* Header */}\r\n            <div className=\"p-4 flex items-center space-x-4 border-b border-slate-100 bg-surface z-10\">\r\n                <button onClick={() => navigate('/')} className=\"text-text-muted hover:text-text-primary\">\r\n                    <ArrowLeft size={24} />\r\n                </button>\r\n                <div className=\"flex-1 h-3 bg-slate-100 rounded-full overflow-hidden\">\r\n                    <div\r\n                        className=\"h-full bg-primary transition-all duration-500 ease-out\"\r\n                        style={{ width: `${progress}%` }}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            {/* Main Content Area */}\r\n            <div className=\"flex-1 p-6 overflow-y-auto pb-24\">\r\n                {currentSlide.type === 'content'\r\n                    ? renderContent(currentSlide.data)\r\n                    : renderQuiz(currentSlide.data)\r\n                }\r\n            </div>\r\n\r\n            {/* Footer / Action Bar */}\r\n            <div className=\"fixed bottom-0 left-0 right-0 p-4 bg-surface border-t border-slate-100 max-w-md mx-auto\">\r\n                {currentSlide.type === 'content' ? (\r\n                    <button\r\n                        onClick={handleNext}\r\n                        className=\"w-full bg-primary hover:bg-primary-dark text-white font-bold py-3 px-6 rounded-xl shadow-lg shadow-primary/30 transition-all flex items-center justify-center space-x-2\"\r\n                    >\r\n                        <span>Continue</span>\r\n                        <ChevronRight size={20} />\r\n                    </button>\r\n                ) : (\r\n                    !isAnswerChecked ? (\r\n                        <button\r\n                            onClick={checkAnswer}\r\n                            disabled={selectedOption === null}\r\n                            className=\"w-full bg-primary disabled:bg-slate-300 disabled:text-slate-500 hover:bg-primary-dark text-white font-bold py-3 px-6 rounded-xl shadow-lg transition-all\"\r\n                        >\r\n                            Check Answer\r\n                        </button>\r\n                    ) : (\r\n                        <button\r\n                            onClick={handleNext}\r\n                            className={`w-full font-bold py-3 px-6 rounded-xl shadow-lg transition-all flex items-center justify-center space-x-2 ${selectedOption === currentSlide.data.correctAnswerIndex\r\n                                ? 'bg-secondary hover:bg-secondary-dark text-white shadow-secondary/30'\r\n                                : 'bg-primary hover:bg-primary-dark text-white shadow-primary/30' // Continue anyway\r\n                                }`}\r\n                        >\r\n                            <span>{isLastSlide ? 'Finish Lesson' : 'Continue'}</span>\r\n                            <ChevronRight size={20} />\r\n                        </button>\r\n                    )\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\pages\\Search.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\User\\.gemini\\antigravity\\scratch\\financial-educator\\src\\pages\\Settings.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
